---
import { contactConfig } from '../../config/contact';
import { t } from '../../lib/i18n';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../ui/Card';
import { ContactForm } from '../interactive/ContactForm';

const azureFunctionUrl =
  import.meta.env.PUBLIC_AZURE_FUNCTION_URL || 'https://example.com/api/contact';
---

<section id="contact" class="py-20 bg-muted/30">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl md:text-5xl font-bold text-center mb-12">
      {t('contact.title')}
    </h2>
    <div class="max-w-2xl mx-auto">
      <Card>
        <CardHeader>
          <CardTitle>{t('contact.title')}</CardTitle>
          <CardDescription>
            {contactConfig.availabilityMessage}
          </CardDescription>
        </CardHeader>
        <CardContent>
          <div class="grid gap-4 mb-6">
            <div class="flex justify-between items-center py-2 border-b border-border">
              <span class="text-sm font-medium">{t('contact.availability')}</span>
              <span
                class={`px-3 py-1 rounded-full text-xs font-medium ${
                  contactConfig.availability === 'available'
                    ? 'bg-green-500/10 text-green-500'
                    : contactConfig.availability === 'limited'
                      ? 'bg-yellow-500/10 text-yellow-500'
                      : 'bg-red-500/10 text-red-500'
                }`}
              >
                {contactConfig.availability}
              </span>
            </div>
            <div class="flex justify-between items-center py-2 border-b border-border">
              <span class="text-sm font-medium">{t('contact.responseTime')}</span>
              <span class="text-sm text-muted-foreground">{contactConfig.responseTime}</span>
            </div>
          </div>
          <ContactForm client:load azureFunctionUrl={azureFunctionUrl} />
        </CardContent>
      </Card>
    </div>
  </div>
</section>
